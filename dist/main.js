(()=>{"use strict";const e=function(e){this.todolist=[],this.proj_name=e},t=document.querySelector(".content"),n=function(){const e=document.createElement("form"),t=document.createElement("label");t.innerText="Title: ";const n=document.createElement("input");n.setAttribute("id","title"),n.setAttribute("type","text"),n.setAttribute("name","title"),n.setAttribute("placeholder","Title of Task"),n.setAttribute("required","true"),n.setAttribute("maxlength","10"),n.setAttribute("class","mr-10 w-100px");const d=document.createElement("label");d.innerText="Description: ";const i=document.createElement("input");i.setAttribute("id","desc"),i.setAttribute("type","text"),i.setAttribute("name","desc"),i.setAttribute("placeholder","Description of Task"),i.setAttribute("required","true"),i.setAttribute("maxlength","50"),i.setAttribute("class","mr-10");const l=document.createElement("label");l.innerText="Due Date: ";const o=document.createElement("input");o.setAttribute("id","ddate"),o.setAttribute("type","date"),o.setAttribute("name","date"),o.setAttribute("required","true"),o.setAttribute("class","mr-10 w-120px");const c=document.createElement("label");c.innerText="Priority: ";const r=document.createElement("select");r.setAttribute("id","priority"),r.setAttribute("name","priority"),r.setAttribute("class","mr-10 w-50px");const a=document.createElement("option");a.text="High",a.value="high",r.add(a);const s=document.createElement("option");s.text="Medium",s.value="medium",s.selected="true",r.add(s);const u=document.createElement("option");u.text="low",u.value="low",r.add(u);const m=document.createElement("label");m.setAttribute("id","projlabel"),m.setAttribute("class","mr-10"),m.innerText="Select Project: ";const p=document.createElement("select");p.setAttribute("id","projcat"),p.setAttribute("class","mr-10 ");const b=document.createElement("input");return b.setAttribute("type","submit"),b.setAttribute("id","submitbtn"),b.value="Submit",e.appendChild(m),e.appendChild(p),e.appendChild(t),e.appendChild(n),e.appendChild(d),e.appendChild(i),e.appendChild(l),e.appendChild(o),e.appendChild(c),e.appendChild(r),e.appendChild(b),e}(),d=document.createElement("div");d.setAttribute("class","border-deco p-10"),d.appendChild(n);const i=document.createElement("div");i.setAttribute("id","todo");const l=document.createElement("button");l.setAttribute("id","todo-btn"),l.setAttribute("class","float-r"),l.innerText="Create new Item";const o=document.createElement("div");o.setAttribute("id","newprojdiv"),o.setAttribute("class","border-deco p-10 mb-10 txt-align-c");const c=document.createElement("button");c.setAttribute("id","newproj-btn"),c.setAttribute("class","mr-10"),c.innerText="Add New Project";const r=document.createElement("input");r.setAttribute("id","projinput"),r.setAttribute("type","text"),o.appendChild(c),o.appendChild(r);let a=[];t.appendChild(o),t.appendChild(d),t.appendChild(i);const s=document.getElementById("projcat"),u=()=>{const e=JSON.stringify(a);localStorage.setItem("projlist",e)},m=()=>{s.innerHTML="";for(let e=0;e<a.length;e+=1){const t=document.createElement("option");t.text=a[e].proj_name,t.value=a[e].proj_name,s.add(t)}},p=()=>{const e=document.createElement("table");e.setAttribute("id","disptbl");const t=document.createElement("tr"),n=document.createElement("th");n.innerText="Project";const d=document.createElement("th");d.innerText="Title";const o=document.createElement("th");o.innerText="Description";const c=document.createElement("th");c.innerText="Due Date";const r=document.createElement("th");r.innerText="Priority";const s=document.createElement("th");s.innerText="Select for update";const u=document.createElement("th");u.innerText="Delete",t.appendChild(n),t.appendChild(d),t.appendChild(o),t.appendChild(c),t.appendChild(r),t.appendChild(s),t.appendChild(u),e.appendChild(t);for(let t=a.length-1;t>=0;t-=1)for(let n=a[t].todolist.length-1;n>=0;n-=1){const d=document.createElement("tr"),i=document.createElement("td");i.innerText=`${a[t].proj_name}`;const o=document.createElement("td");o.innerText=`${a[t].todolist[n].title}`;const c=document.createElement("td");c.innerText=`${a[t].todolist[n].desc}`;const r=document.createElement("td");r.innerText=`${a[t].todolist[n].ddate}`;const s=document.createElement("td");s.innerText=`${a[t].todolist[n].priority}`;const u=document.createElement("td"),m=document.createElement("button");m.hidden=!0,m.setAttribute("class","updatebuttons"),m.setAttribute("id",`updbtn${t}-${n}`),m.innerText="Update",m.addEventListener("click",(()=>{a[t].todolist[n].title=document.getElementById("title").value,a[t].todolist[n].desc=document.getElementById("desc").value,a[t].todolist[n].ddate=document.getElementById("ddate").value,a[t].todolist[n].priority=document.getElementById("priority").value,l.hidden=!1,p()}));const h=document.createElement("button");h.setAttribute("id",`selectbtn${t}-${n}`),h.innerText="Select",h.addEventListener("click",(()=>{const e=document.getElementsByClassName("updatebuttons");for(let t=0;t<e.length;t+=1)e[t].hidden=!0;document.getElementById("title").value=a[t].todolist[n].title,document.getElementById("desc").value=a[t].todolist[n].desc,document.getElementById("ddate").value=a[t].todolist[n].ddate,document.getElementById("priority").value=a[t].todolist[n].priority,document.getElementById(`updbtn${t}-${n}`).hidden=!1,l.hidden=!0})),u.appendChild(h),u.appendChild(m);const E=document.createElement("td"),A=document.createElement("button");A.setAttribute("id",`delbtn${t}-${n}`),A.innerText="Delete",A.addEventListener("click",(()=>{b(t,n)})),E.appendChild(A),d.appendChild(i),d.appendChild(o),d.appendChild(c),d.appendChild(r),d.appendChild(s),d.appendChild(u),d.appendChild(E),e.appendChild(d)}i.innerHTML="",i.appendChild(e)},b=(e,t)=>{a[e].todolist.splice(t,1),u(),p()};(()=>{const t=localStorage.getItem("projlist");if(a=JSON.parse(t),!a){a=[];const t=new e("default");a.push(t)}})(),m(),p(),document.getElementById("submitbtn").addEventListener("click",(()=>{const e=document.getElementById("title").value,t=document.getElementById("desc").value,n=document.getElementById("ddate").value;""!==e&&""!==t&&""!==n&&(()=>{const e=((e,t,n,d)=>({title:e,desc:t,ddate:n,priority:d}))(document.getElementById("title").value,document.getElementById("desc").value,document.getElementById("ddate").value,document.getElementById("priority").value);for(let t=0;t<a.length;t+=1)a[t].proj_name===s.value&&a[t].todolist.push(e);u(),p()})()})),c.addEventListener("click",(()=>{(()=>{const t=new e(r.value);a.push(t),u(),m()})()}))})();